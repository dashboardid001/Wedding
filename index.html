<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Open+Sans&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="ornament">‚ù¶</div>
            <h1>Undangan Pernikahan</h1>
            <p>The Wedding of</p>
        </div>

        <!-- Foto Couple -->
        <div class="couple-section">
            <div class="couple-photo">
                <div class="photo-placeholder">
                    üë∞‚Äç‚ôÄÔ∏èü§µ‚Äç‚ôÇÔ∏è
                </div>
            </div>
            <div class="couple-names">
                <h2>Sarah &amp; Michael</h2>
                <p>"Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu pasangan hidup dari jenismu sendiri, supaya kamu merasa tenteram kepadanya."</p>
                <p class="verse">QS. Ar-Rum: 21</p>
            </div>
        </div>

        <!-- Nama Tamu -->
        <div class="guest-section">
            <div class="guest-card">
                <p class="invitation-to">Kepada Yang Terhormat:</p>
                <div class="guest-name" id="guestName">
                    <!-- Nama akan muncul di sini -->
                </div>
                <div class="separator"></div>
                <p class="message">Kami berharap kehadiran Bapak/Ibu/Saudara/i dalam acara pernikahan kami</p>
            </div>
        </div>

        <!-- Detail Acara -->
        <div class="event-details">
            <div class="event-card">
                <h3>üìÖ Save The Date</h3>
                <div class="event-info">
                    <div class="info-item">
                        <span class="icon">üóìÔ∏è</span>
                        <div class="details">
                            <strong>Sabtu, 15 Maret 2025</strong>
                            <p>09:00 WIB - Selesai</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="icon">üìç</span>
                        <div class="details">
                            <strong>Grand Ballroom Hotel Maju</strong>
                            <p>Jl. Kemerdekaan No. 123, Jakarta</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Konfirmasi Kehadiran -->
        <div class="rsvp-section">
            <h3>Konfirmasi Kehadiran</h3>
            <div class="rsvp-buttons" id="rsvpButtons">
                <button class="btn btn-confirm" onclick="confirmAttendance('hadir')">
                    ‚úÖ Ya, Saya Hadir
                </button>
                <button class="btn btn-decline" onclick="confirmAttendance('tidak_hadir')">
                    ‚ùå Maaf, Tidak Bisa
                </button>
            </div>
            <div class="thank-you-message hidden" id="thankYouMessage">
                <div class="success-icon">üéâ</div>
                <h4>Terima Kasih!</h4>
                <p>Konfirmasi Anda telah tercatat</p>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>"Karena itu apa yang telah Allah hubungkan, janganlah manusia memisahkannya."</p>
            <p class="verse">Matius 19:6</p>
            <div class="signature">
                <p>Dengan penuh cinta,</p>
                <h3>Sarah &amp; Michael</h3>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
    <!-- ... kode sebelumnya tetap ... -->

    <script>
        // Fungsi untuk mengambil parameter dari URL
        function getParameterFromURL(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Fungsi untuk menampilkan nama tamu
        function displayGuestName() {
            const nama = getParameterFromURL('nama');
            const guestNameElement = document.getElementById('guestName');
            console.log('Nama dari URL:', nama); // Debug line
            
            if (nama && nama.trim() !== '') {
                // Decode URL dan format nama
                const namaDecoded = decodeURIComponent(nama).replace(/\+/g, ' ');
                guestNameElement.innerHTML = namaDecoded;
                
                // Simpan di localStorage
                localStorage.setItem('namaTamu', namaDecoded);
                console.log('Nama ditampilkan:', namaDecoded); // Debug line
            } else {
                guestNameElement.innerHTML = 'Tamu Undangan';
                console.log('Nama default ditampilkan'); // Debug line
            }
        }

        // Fungsi konfirmasi kehadiran
        function confirmAttendance(status) {
            const nama = getParameterFromURL('nama') || localStorage.getItem('namaTamu') || 'Tamu Undangan';
            const namaDecoded = decodeURIComponent(nama).replace(/\+/g, ' ');
            
            // Sembunyikan tombol, tampilkan pesan terima kasih
            document.getElementById('rsvpButtons').classList.add('hidden');
            document.getElementById('thankYouMessage').classList.remove('hidden');
            
            // Simpan data konfirmasi
            const konfirmasiData = {
                nama: namaDecoded,
                status: status,
                waktu: new Date().toLocaleString('id-ID')
            };
            
            // Simpan di localStorage
            localStorage.setItem('konfirmasiUndangan', JSON.stringify(konfirmasiData));
            
            // Tampilkan pesan personal
            let pesan = '';
            if (status === 'hadir') {
                pesan = `Terima kasih ${namaDecoded}! Kami tidak sabar bertemu dengan Anda. ‚ù§Ô∏è`;
            } else {
                pesan = `Terima kasih ${namaDecoded} atas informasinya. Doakan kami ya! üôè`;
            }
            
            alert(pesan);
            
            console.log('Data Konfirmasi:', konfirmasiData);
        }

        // Jalankan ketika halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Halaman dimuat - menjalankan displayGuestName');
            displayGuestName();
            
            // Cek jika sudah konfirmasi sebelumnya
            const sudahKonfirmasi = localStorage.getItem('konfirmasiUndangan');
            if (sudahKonfirmasi) {
                document.getElementById('rsvpButtons').classList.add('hidden');
                document.getElementById('thankYouMessage').classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
